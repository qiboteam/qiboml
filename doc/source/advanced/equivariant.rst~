Building Equivariant Models
---------------------------

By default, when a trainable ``Circuit`` is passed to a ``QuantumModel`` through the ``circuit_structure``, all its parameters are considered independent. In some cases, however, one might want to just have a handful of independent parameters that are recombined in several different location inside the gates of your trainable quantum circuit. This is the case, for instance, of the so called `Equivariant` models.

For this reason ``Qiboml`` allows for the definition of custom circuits by means of user-defined functions, that can be added together with encoders and plain circuits to the ``circuit_structure``. For example, one can define a circuit with only three independent parameters that are recombined in several gates:

.. testcode::

   def my_equivariant_circuit(
